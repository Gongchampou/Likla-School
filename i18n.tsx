import React, { createContext, useContext, ReactNode, useMemo, useEffect } from 'react';

export type Lang =
  | 'en'
  | 'fr'
  | 'hi'
  | 'es'
  | 'de'
  | 'ar'
  | 'bn'
  | 'ta'
  | 'te'
  | 'mr'
  | 'gu'
  | 'pa'
  | 'ur'
  | 'zh'
  | 'ja'
  | 'ru'
  | 'pt'
  | 'it'
  | 'mni';

type Dict = Record<string, string>;

const translations: Record<Lang, Dict> = {
  en: {
    'nav.Dashboard': 'Dashboard',
    'nav.User Management': 'User Management',
    'nav.Teacher': 'Teacher',
    'nav.Student': 'Student',
    'nav.Staff': 'Staff',
    'nav.Librarian': 'Librarian',
    'nav.Class': 'Class',
    'nav.Timetable': 'Timetable',
    'nav.Attendance': 'Attendance',
    'nav.Assignment': 'Assignment',
    'nav.Library': 'Library',
    'nav.ID Card': 'ID Card',
    'nav.Notice / Announcements': 'Notice / Announcements',
    'nav.Fees': 'Fees',
    'nav.Settings': 'Settings',
    'nav.Control Limit': 'Control Limit',
    'nav.Logout': 'Logout',

    'settings.Settings': 'Settings',
    'settings.General': 'General',
    'settings.Language': 'Language',
    'settings.DateFormat': 'Date Format',
    'settings.ItemsPerPage': 'Items per page',
    'settings.AcademicYear': 'Academic Year',
    'settings.SchoolInformation': 'School Information',
    'settings.SchoolName': 'School Name',
    'settings.SchoolLogoUrl': 'School Logo URL',
    'settings.Utilities': 'Utilities',
    'settings.ExportSettingsJSON': 'Export Settings JSON',
    'settings.ImportSettingsJSON': 'Import Settings JSON',
    'settings.ResetToDefaults': 'Reset to Defaults',
    'settings.Appearance': 'Appearance',
    'settings.Theme': 'Theme',
    'settings.PrimaryColor': 'Primary Color',
    'settings.FontSize': 'Font Size',
    'settings.CompactSidebar': 'Compact sidebar',
    'settings.EnableAnimations': 'Enable animations',
    'settings.Density': 'Density',
    'settings.Notifications': 'Notifications',
    'settings.EmailNotifications': 'Email notifications',
    'settings.SMSNotifications': 'SMS notifications',
    'settings.SaveChanges': 'Save Changes',
    'settings.Saved': 'Saved',
  },
  fr: {
    'nav.Dashboard': 'Tableau de bord',
    'nav.User Management': 'Gestion des utilisateurs',
    'nav.Teacher': 'Enseignant',
    'nav.Student': 'Étudiant',
    'nav.Staff': 'Personnel',
    'nav.Librarian': 'Bibliothécaire',
    'nav.Class': 'Classe',
    'nav.Timetable': 'Emploi du temps',
    'nav.Attendance': 'Présence',
    'nav.Assignment': 'Devoir',
    'nav.Library': 'Bibliothèque',
    'nav.ID Card': 'Carte ID',
    'nav.Notice / Announcements': 'Avis / Annonces',
    'nav.Fees': 'Frais',
    'nav.Settings': 'Paramètres',
    'nav.Control Limit': 'Limite de contrôle',
    'nav.Logout': 'Déconnexion',

    'settings.Settings': 'Paramètres',
    'settings.General': 'Général',
    'settings.Language': 'Langue',
    'settings.DateFormat': 'Format de date',
    'settings.ItemsPerPage': 'Éléments par page',
    'settings.AcademicYear': 'Année scolaire',
    'settings.SchoolInformation': "Informations de l'école",
    'settings.SchoolName': "Nom de l'école",
    'settings.SchoolLogoUrl': "URL du logo de l'école",
    'settings.Utilities': 'Utilitaires',
    'settings.ExportSettingsJSON': 'Exporter les paramètres JSON',
    'settings.ImportSettingsJSON': 'Importer les paramètres JSON',
    'settings.ResetToDefaults': 'Réinitialiser par défaut',
    'settings.Appearance': 'Apparence',
    'settings.Theme': 'Thème',
    'settings.PrimaryColor': 'Couleur principale',
    'settings.FontSize': 'Taille de police',
    'settings.CompactSidebar': 'Barre latérale compacte',
    'settings.EnableAnimations': 'Activer les animations',
    'settings.Density': 'Densité',
    'settings.Notifications': 'Notifications',
    'settings.EmailNotifications': 'Notifications par e-mail',
    'settings.SMSNotifications': 'Notifications par SMS',
    'settings.SaveChanges': 'Enregistrer les modifications',
    'settings.Saved': 'Enregistré',
  },
  hi: {
    'nav.Dashboard': 'डैशबोर्ड',
    'nav.User Management': 'उपयोगकर्ता प्रबंधन',
    'nav.Teacher': 'शिक्षक',
    'nav.Student': 'छात्र',
    'nav.Staff': 'स्टाफ',
    'nav.Librarian': 'लाइब्रेरियन',
    'nav.Class': 'कक्षा',
    'nav.Timetable': 'समय सारिणी',
    'nav.Attendance': 'उपस्थिति',
    'nav.Assignment': 'असाइनमेंट',
    'nav.Library': 'पुस्तकालय',
    'nav.ID Card': 'पहचान पत्र',
    'nav.Notice / Announcements': 'सूचना / घोषणाएँ',
    'nav.Fees': 'शुल्क',
    'nav.Settings': 'सेटिंग्स',
    'nav.Control Limit': 'नियंत्रण सीमा',
    'nav.Logout': 'लॉगआउट',

    'settings.Settings': 'सेटिंग्स',
    'settings.General': 'सामान्य',
    'settings.Language': 'भाषा',
    'settings.DateFormat': 'तिथि प्रारूप',
    'settings.ItemsPerPage': 'प्रति पृष्ठ आइटम',
    'settings.AcademicYear': 'शैक्षणिक वर्ष',
    'settings.SchoolInformation': 'स्कूल जानकारी',
    'settings.SchoolName': 'स्कूल का नाम',
    'settings.SchoolLogoUrl': 'स्कूल लोगो URL',
    'settings.Utilities': 'उपयोगिताएँ',
    'settings.ExportSettingsJSON': 'सेटिंग्स JSON निर्यात करें',
    'settings.ImportSettingsJSON': 'सेटिंग्स JSON आयात करें',
    'settings.ResetToDefaults': 'डिफ़ॉल्ट पर रीसेट करें',
    'settings.Appearance': 'रूप',
    'settings.Theme': 'थीम',
    'settings.PrimaryColor': 'प्राथमिक रंग',
    'settings.FontSize': 'फ़ॉन्ट आकार',
    'settings.CompactSidebar': 'कॉम्पैक्ट साइडबार',
    'settings.EnableAnimations': 'एनिमेशन सक्षम करें',
    'settings.Density': 'घनत्व',
    'settings.Notifications': 'सूचनाएँ',
    'settings.EmailNotifications': 'ईमेल सूचनाएँ',
    'settings.SMSNotifications': 'एसएमएस सूचनाएँ',
    'settings.SaveChanges': 'परिवर्तन सहेजें',
    'settings.Saved': 'सहेजा गया',
  },
  // Additional languages
  es: {
    'nav.Dashboard': 'Panel',
    'nav.User Management': 'Gestión de usuarios',
    'nav.Teacher': 'Profesor',
    'nav.Student': 'Estudiante',
    'nav.Staff': 'Personal',
    'nav.Librarian': 'Bibliotecario',
    'nav.Class': 'Clase',
    'nav.Timetable': 'Horario',
    'nav.Attendance': 'Asistencia',
    'nav.Assignment': 'Tarea',
    'nav.Library': 'Biblioteca',
    'nav.ID Card': 'Tarjeta ID',
    'nav.Notice / Announcements': 'Avisos / Anuncios',
    'nav.Fees': 'Cuotas',
    'nav.Settings': 'Configuración',
    'nav.Control Limit': 'Límite de control',
    'nav.Logout': 'Cerrar sesión',

    'settings.Settings': 'Configuración',
    'settings.General': 'General',
    'settings.Language': 'Idioma',
    'settings.DateFormat': 'Formato de fecha',
    'settings.ItemsPerPage': 'Elementos por página',
    'settings.AcademicYear': 'Año académico',
    'settings.SchoolInformation': 'Información de la escuela',
    'settings.SchoolName': 'Nombre de la escuela',
    'settings.SchoolLogoUrl': 'URL del logo de la escuela',
    'settings.Utilities': 'Utilidades',
    'settings.ExportSettingsJSON': 'Exportar configuración JSON',
    'settings.ImportSettingsJSON': 'Importar configuración JSON',
    'settings.ResetToDefaults': 'Restablecer valores predeterminados',
    'settings.Appearance': 'Apariencia',
    'settings.Theme': 'Tema',
    'settings.PrimaryColor': 'Color principal',
    'settings.FontSize': 'Tamaño de fuente',
    'settings.CompactSidebar': 'Barra lateral compacta',
    'settings.EnableAnimations': 'Habilitar animaciones',
    'settings.Density': 'Densidad',
    'settings.Notifications': 'Notificaciones',
    'settings.EmailNotifications': 'Notificaciones por correo',
    'settings.SMSNotifications': 'Notificaciones por SMS',
    'settings.SaveChanges': 'Guardar cambios',
    'settings.Saved': 'Guardado',
  }, // Spanish
  de: { // German
    'nav.Dashboard': 'Übersicht',
    'nav.User Management': 'Benutzerverwaltung',
    'nav.Teacher': 'Lehrer',
    'nav.Student': 'Schüler',
    'nav.Staff': 'Mitarbeiter',
    'nav.Librarian': 'Bibliothekar',
    'nav.Class': 'Klasse',
    'nav.Timetable': 'Stundenplan',
    'nav.Attendance': 'Anwesenheit',
    'nav.Assignment': 'Aufgabe',
    'nav.Library': 'Bibliothek',
    'nav.ID Card': 'ID-Karte',
    'nav.Notice / Announcements': 'Mitteilungen / Ankündigungen',
    'nav.Fees': 'Gebühren',
    'nav.Settings': 'Einstellungen',
    'nav.Control Limit': 'Kontrolllimit',
    'nav.Logout': 'Abmelden',

    'settings.Settings': 'Einstellungen',
    'settings.General': 'Allgemein',
    'settings.Language': 'Sprache',
    'settings.DateFormat': 'Datumsformat',
    'settings.ItemsPerPage': 'Elemente pro Seite',
    'settings.AcademicYear': 'Schuljahr',
    'settings.SchoolInformation': 'Schulinformationen',
    'settings.SchoolName': 'Schulname',
    'settings.SchoolLogoUrl': 'Schullogo-URL',
    'settings.Utilities': 'Werkzeuge',
    'settings.ExportSettingsJSON': 'Einstellungen als JSON exportieren',
    'settings.ImportSettingsJSON': 'Einstellungen aus JSON importieren',
    'settings.ResetToDefaults': 'Auf Standard zurücksetzen',
    'settings.Appearance': 'Darstellung',
    'settings.Theme': 'Thema',
    'settings.PrimaryColor': 'Hauptfarbe',
    'settings.FontSize': 'Schriftgröße',
    'settings.CompactSidebar': 'Kompakte Seitenleiste',
    'settings.EnableAnimations': 'Animationen aktivieren',
    'settings.Density': 'Dichte',
    'settings.Notifications': 'Benachrichtigungen',
    'settings.EmailNotifications': 'E-Mail-Benachrichtigungen',
    'settings.SMSNotifications': 'SMS-Benachrichtigungen',
    'settings.SaveChanges': 'Änderungen speichern',
    'settings.Saved': 'Gespeichert',
  },
  ar: { // Arabic
    'nav.Dashboard': 'لوحة التحكم',
    'nav.User Management': 'إدارة المستخدمين',
    'nav.Teacher': 'معلم',
    'nav.Student': 'طالب',
    'nav.Staff': 'موظفون',
    'nav.Librarian': 'أمين المكتبة',
    'nav.Class': 'صف',
    'nav.Timetable': 'الجدول الدراسي',
    'nav.Attendance': 'الحضور',
    'nav.Assignment': 'واجب',
    'nav.Library': 'المكتبة',
    'nav.ID Card': 'بطاقة الهوية',
    'nav.Notice / Announcements': 'إشعارات / إعلانات',
    'nav.Fees': 'الرسوم',
    'nav.Settings': 'الإعدادات',
    'nav.Control Limit': 'حد التحكم',
    'nav.Logout': 'تسجيل الخروج',

    'settings.Settings': 'الإعدادات',
    'settings.General': 'عام',
    'settings.Language': 'اللغة',
    'settings.DateFormat': 'تنسيق التاريخ',
    'settings.ItemsPerPage': 'عناصر لكل صفحة',
    'settings.AcademicYear': 'السنة الدراسية',
    'settings.SchoolInformation': 'معلومات المدرسة',
    'settings.SchoolName': 'اسم المدرسة',
    'settings.SchoolLogoUrl': 'رابط شعار المدرسة',
    'settings.Utilities': 'أدوات',
    'settings.ExportSettingsJSON': 'تصدير الإعدادات JSON',
    'settings.ImportSettingsJSON': 'استيراد الإعدادات JSON',
    'settings.ResetToDefaults': 'إعادة الضبط إلى الافتراضي',
    'settings.Appearance': 'المظهر',
    'settings.Theme': 'السمة',
    'settings.PrimaryColor': 'اللون الأساسي',
    'settings.FontSize': 'حجم الخط',
    'settings.CompactSidebar': 'شريط جانبي مضغوط',
    'settings.EnableAnimations': 'تمكين الحركات',
    'settings.Density': 'الكثافة',
    'settings.Notifications': 'الإشعارات',
    'settings.EmailNotifications': 'إشعارات البريد الإلكتروني',
    'settings.SMSNotifications': 'إشعارات الرسائل القصيرة',
    'settings.SaveChanges': 'حفظ التغييرات',
    'settings.Saved': 'تم الحفظ',
  },
  bn: { // Bengali
    'nav.Dashboard': 'ড্যাশবোর্ড',
    'nav.User Management': 'ব্যবহারকারী ব্যবস্থাপনা',
    'nav.Teacher': 'শিক্ষক',
    'nav.Student': 'ছাত্র',
    'nav.Staff': 'কর্মী',
    'nav.Librarian': 'গ্রন্থাগারিক',
    'nav.Class': 'শ্রেণি',
    'nav.Timetable': 'সময়সূচি',
    'nav.Attendance': 'উপস্থিতি',
    'nav.Assignment': 'অ্যাসাইনমেন্ট',
    'nav.Library': 'গ্রন্থাগার',
    'nav.ID Card': 'আইডি কার্ড',
    'nav.Notice / Announcements': 'নোটিশ / ঘোষণা',
    'nav.Fees': 'ফি',
    'nav.Settings': 'সেটিংস',
    'nav.Control Limit': 'নিয়ন্ত্রণ সীমা',
    'nav.Logout': 'লগআউট',

    'settings.Settings': 'সেটিংস',
    'settings.General': 'সাধারণ',
    'settings.Language': 'ভাষা',
    'settings.DateFormat': 'তারিখের বিন্যাস',
    'settings.ItemsPerPage': 'প্রতি পৃষ্ঠায় আইটেম',
    'settings.AcademicYear': 'শিক্ষাবর্ষ',
    'settings.SchoolInformation': 'স্কুলের তথ্য',
    'settings.SchoolName': 'স্কুলের নাম',
    'settings.SchoolLogoUrl': 'স্কুল লোগো URL',
    'settings.Utilities': 'উপযোগিতা',
    'settings.ExportSettingsJSON': 'সেটিংস JSON এক্সপোর্ট',
    'settings.ImportSettingsJSON': 'সেটিংস JSON ইমপোর্ট',
    'settings.ResetToDefaults': 'ডিফল্টে রিসেট',
    'settings.Appearance': 'চেহারা',
    'settings.Theme': 'থিম',
    'settings.PrimaryColor': 'প্রাথমিক রঙ',
    'settings.FontSize': 'ফন্ট সাইজ',
    'settings.CompactSidebar': 'কমপ্যাক্ট সাইডবার',
    'settings.EnableAnimations': 'অ্যানিমেশন সক্রিয় করুন',
    'settings.Density': 'ঘনত্ব',
    'settings.Notifications': 'বিজ্ঞপ্তি',
    'settings.EmailNotifications': 'ইমেইল বিজ্ঞপ্তি',
    'settings.SMSNotifications': 'এসএমএস বিজ্ঞপ্তি',
    'settings.SaveChanges': 'পরিবর্তন সংরক্ষণ করুন',
    'settings.Saved': 'সংরক্ষিত',
  },
  ta: { // Tamil
    'nav.Dashboard': 'டாஷ்போர்டு',
    'nav.User Management': 'பயனர் மேலாண்மை',
    'nav.Teacher': 'ஆசிரியர்',
    'nav.Student': 'மாணவர்',
    'nav.Staff': 'பணியாளர்',
    'nav.Librarian': 'நூலகர்',
    'nav.Class': 'வகுப்பு',
    'nav.Timetable': 'நேர அட்டவணை',
    'nav.Attendance': 'வருகை',
    'nav.Assignment': 'பணி',
    'nav.Library': 'நூலகம்',
    'nav.ID Card': 'அடையாள அட்டை',
    'nav.Notice / Announcements': 'உதவிக்குறிப்பு / அறிவிப்புகள்',
    'nav.Fees': 'கட்டணங்கள்',
    'nav.Settings': 'அமைப்புகள்',
    'nav.Control Limit': 'கட்டுப்பாட்டு வரம்பு',
    'nav.Logout': 'வெளியேறு',

    'settings.Settings': 'அமைப்புகள்',
    'settings.General': 'பொது',
    'settings.Language': 'மொழி',
    'settings.DateFormat': 'தேதி வடிவம்',
    'settings.ItemsPerPage': 'ஒவ்வொரு பக்கத்துக்கும் உருப்படிகள்',
    'settings.AcademicYear': 'கல்வியாண்டு',
    'settings.SchoolInformation': 'பள்ளி தகவல்',
    'settings.SchoolName': 'பள்ளியின் பெயர்',
    'settings.SchoolLogoUrl': 'பள்ளி லோகோ URL',
    'settings.Utilities': 'கருவிகள்',
    'settings.ExportSettingsJSON': 'அமைப்புகளை JSON ஏற்றுமதி',
    'settings.ImportSettingsJSON': 'அமைப்புகளை JSON இறக்குமதி',
    'settings.ResetToDefaults': 'இயல்புநிலைக்கு மீட்டமை',
    'settings.Appearance': 'தோற்றம்',
    'settings.Theme': 'தீம்',
    'settings.PrimaryColor': 'முதன்மை நிறம்',
    'settings.FontSize': 'எழுத்துரு அளவு',
    'settings.CompactSidebar': 'சுருக்கமான பக்கப்பட்டி',
    'settings.EnableAnimations': 'அசைவுகளை இயக்கு',
    'settings.Density': 'அடர்த்தி',
    'settings.Notifications': 'அறிவிப்புகள்',
    'settings.EmailNotifications': 'மின்னஞ்சல் அறிவிப்புகள்',
    'settings.SMSNotifications': 'குறுஞ்செய்தி அறிவிப்புகள்',
    'settings.SaveChanges': 'மாற்றங்களை சேமிக்க',
    'settings.Saved': 'சேமிக்கப்பட்டது',
  },
  te: { // Telugu
    'nav.Dashboard': 'డ్యాష్‌బోర్డ్',
    'nav.User Management': 'వినియోగదారుల నిర్వహణ',
    'nav.Teacher': 'ఉపాధ్యాయుడు',
    'nav.Student': 'విద్యార్థి',
    'nav.Staff': 'సిబ్బంది',
    'nav.Librarian': 'గ్రంథపాలకుడు',
    'nav.Class': 'తరగతి',
    'nav.Timetable': 'సమయ పట్టిక',
    'nav.Attendance': 'హాజరు',
    'nav.Assignment': 'అసైన్మెంట్',
    'nav.Library': 'గ్రంథాలయం',
    'nav.ID Card': 'ఐడి కార్డ్',
    'nav.Notice / Announcements': 'నోటీసులు / ప్రకటనలు',
    'nav.Fees': 'ఫీజులు',
    'nav.Settings': 'సెట్టింగులు',
    'nav.Control Limit': 'నియంత్రణ పరిమితి',
    'nav.Logout': 'లాగ్ అవుట్',

    'settings.Settings': 'సెట్టింగులు',
    'settings.General': 'సాధారణ',
    'settings.Language': 'భాష',
    'settings.DateFormat': 'తేదీ ఆకృతి',
    'settings.ItemsPerPage': 'ప్రతి పేజీలో అంశాలు',
    'settings.AcademicYear': 'విద్యా సంవత్సరం',
    'settings.SchoolInformation': 'పాఠశాల సమాచారం',
    'settings.SchoolName': 'పాఠశాల పేరు',
    'settings.SchoolLogoUrl': 'పాఠశాల లోగో URL',
    'settings.Utilities': 'సాధనాలు',
    'settings.ExportSettingsJSON': 'సెట్టింగ్స్ JSON ఎగుమతి',
    'settings.ImportSettingsJSON': 'సెట్టింగ్స్ JSON దిగుమతి',
    'settings.ResetToDefaults': 'డిఫాల్ట్‌లకు రీసెట్ చేయండి',
    'settings.Appearance': 'రూపు',
    'settings.Theme': 'థీమ్',
    'settings.PrimaryColor': 'ప్రధాన రంగు',
    'settings.FontSize': 'అక్షర పరిమాణం',
    'settings.CompactSidebar': 'కాంపాక్ట్ సైడ్బార్',
    'settings.EnableAnimations': 'యానిమేషన్లను ప్రారంభించండి',
    'settings.Density': 'సాంద్రత',
    'settings.Notifications': 'నోటిఫికేషన్లు',
    'settings.EmailNotifications': 'ఈమెయిల్ నోటిఫికేషన్లు',
    'settings.SMSNotifications': 'SMS నోటిఫికేషన్లు',
    'settings.SaveChanges': 'మార్పులను సేవ్ చేయండి',
    'settings.Saved': 'సేవ్ అయింది',
  },
  mr: { // Marathi
    'nav.Dashboard': 'डॅशबोर्ड',
    'nav.User Management': 'वापरकर्ता व्यवस्थापन',
    'nav.Teacher': 'शिक्षक',
    'nav.Student': 'विद्यार्थी',
    'nav.Staff': 'कर्मचारी',
    'nav.Librarian': 'ग्रंथपाल',
    'nav.Class': 'इयत्ता',
    'nav.Timetable': 'वेळापत्रक',
    'nav.Attendance': 'हजेरी',
    'nav.Assignment': 'कार्य',
    'nav.Library': 'ग्रंथालय',
    'nav.ID Card': 'ओळखपत्र',
    'nav.Notice / Announcements': 'सूचना / घोषणा',
    'nav.Fees': 'शुल्क',
    'nav.Settings': 'सेटिंग्ज',
    'nav.Control Limit': 'नियंत्रण मर्यादा',
    'nav.Logout': 'बाहेर पडा',

    'settings.Settings': 'सेटिंग्ज',
    'settings.General': 'सामान्य',
    'settings.Language': 'भाषा',
    'settings.DateFormat': 'तारीख स्वरूप',
    'settings.ItemsPerPage': 'प्रति पृष्ठ वस्तू',
    'settings.AcademicYear': 'शैक्षणिक वर्ष',
    'settings.SchoolInformation': 'शाळेची माहिती',
    'settings.SchoolName': 'शाळेचे नाव',
    'settings.SchoolLogoUrl': 'शाळेचा लोगो URL',
    'settings.Utilities': 'उपयुक्तता',
    'settings.ExportSettingsJSON': 'सेटिंग्ज JSON निर्यात',
    'settings.ImportSettingsJSON': 'सेटिंग्ज JSON आयात',
    'settings.ResetToDefaults': 'डीफॉल्टवर रीसेट करा',
    'settings.Appearance': 'रूप',
    'settings.Theme': 'थीम',
    'settings.PrimaryColor': 'मुख्य रंग',
    'settings.FontSize': 'फॉन्ट आकार',
    'settings.CompactSidebar': 'कंपॅक्ट साइडबार',
    'settings.EnableAnimations': 'अॅनिमेशन सक्षम करा',
    'settings.Density': 'घनता',
    'settings.Notifications': 'सूचना',
    'settings.EmailNotifications': 'ईमेल सूचना',
    'settings.SMSNotifications': 'एसएमएस सूचना',
    'settings.SaveChanges': 'बदल जतन करा',
    'settings.Saved': 'जतन केले',
  },
  gu: { // Gujarati
    'nav.Dashboard': 'ડેશબોર્ડ',
    'nav.User Management': 'વપરાશકર્તા વ્યવસ્થાપન',
    'nav.Teacher': 'શિક્ષક',
    'nav.Student': 'વિદ્યાર્થી',
    'nav.Staff': 'સ્ટાફ',
    'nav.Librarian': 'ગ્રંથપાલ',
    'nav.Class': 'વર્ગ',
    'nav.Timetable': 'સમયપત્રક',
    'nav.Attendance': 'હાજરી',
    'nav.Assignment': 'અસાઇનમેન્ટ',
    'nav.Library': 'લાઇબ્રેરી',
    'nav.ID Card': 'ઓળખ કાર્ડ',
    'nav.Notice / Announcements': 'જાહેરાતો',
    'nav.Fees': 'ફી',
    'nav.Settings': 'સેટિંગ્સ',
    'nav.Control Limit': 'નિયંત્રણ મર્યાદા',
    'nav.Logout': 'લૉગઆઉટ',

    'settings.Settings': 'સેટિંગ્સ',
    'settings.General': 'જનરલ',
    'settings.Language': 'ભાષા',
    'settings.DateFormat': 'તારીખ સ્વરૂપ',
    'settings.ItemsPerPage': 'દર પેજ પર આઇટમ્સ',
    'settings.AcademicYear': 'શૈક્ષણિક વર્ષ',
    'settings.SchoolInformation': 'શાળાની માહિતી',
    'settings.SchoolName': 'શાળાનું નામ',
    'settings.SchoolLogoUrl': 'શાળા લોગો URL',
    'settings.Utilities': 'યુટિલિટીઝ',
    'settings.ExportSettingsJSON': 'સેટિંગ્સ JSON નિકાસ',
    'settings.ImportSettingsJSON': 'સેટિંગ્સ JSON આયાત',
    'settings.ResetToDefaults': 'ડિફોલ્ટ પર રીસેટ',
    'settings.Appearance': 'દેખાવ',
    'settings.Theme': 'થીમ',
    'settings.PrimaryColor': 'મુખ્ય રંગ',
    'settings.FontSize': 'ફોન્ટ સાઇઝ',
    'settings.CompactSidebar': 'કમ્પેક્ટ સાઇડબાર',
    'settings.EnableAnimations': 'એનિમેશન સક્રિય કરો',
    'settings.Density': 'ઘનતા',
    'settings.Notifications': 'સૂચનાઓ',
    'settings.EmailNotifications': 'ઈમેઈલ સૂચનાઓ',
    'settings.SMSNotifications': 'એસએમએસ સૂચનાઓ',
    'settings.SaveChanges': 'ફેરફારો સાચવો',
    'settings.Saved': 'સાચવ્યું',
  },
  pa: { // Punjabi
    'nav.Dashboard': 'ਡੈਸ਼ਬੋਰਡ',
    'nav.User Management': 'ਯੂਜ਼ਰ ਪ੍ਰਬੰਧਨ',
    'nav.Teacher': 'ਅਧਿਆਪਕ',
    'nav.Student': 'ਵਿਦਿਆਰਥੀ',
    'nav.Staff': 'ਸਟਾਫ਼',
    'nav.Librarian': 'ਲਾਇਬ੍ਰੇਰੀਅਨ',
    'nav.Class': 'ਕਲਾਸ',
    'nav.Timetable': 'ਟਾਈਮਟੇਬਲ',
    'nav.Attendance': 'ਹਾਜ਼ਰੀ',
    'nav.Assignment': 'ਅਸਾਈਨਮੈਂਟ',
    'nav.Library': 'ਲਾਇਬ੍ਰੇਰੀ',
    'nav.ID Card': 'ਆਈਡੀ ਕਾਰਡ',
    'nav.Notice / Announcements': 'ਸੂਚਨਾ / ਐਲਾਨ',
    'nav.Fees': 'ਫੀਸ',
    'nav.Settings': 'ਸੈਟਿੰਗਜ਼',
    'nav.Control Limit': 'ਕੰਟਰੋਲ ਸੀਮਾ',
    'nav.Logout': 'ਲਾੱਗ ਆਉਟ',

    'settings.Settings': 'ਸੈਟਿੰਗਜ਼',
    'settings.General': 'ਜਨਰਲ',
    'settings.Language': 'ਭਾਸ਼ਾ',
    'settings.DateFormat': 'ਤਾਰੀਖ ਫਾਰਮੈਟ',
    'settings.ItemsPerPage': 'ਹਰ ਪੇਜ ਤੇ ਆਈਟਮ',
    'settings.AcademicYear': 'ਅਕਾਦਮਿਕ ਸਾਲ',
    'settings.SchoolInformation': 'ਸਕੂਲ ਜਾਣਕਾਰੀ',
    'settings.SchoolName': 'ਸਕੂਲ ਦਾ ਨਾਮ',
    'settings.SchoolLogoUrl': 'ਸਕੂਲ ਲੋਗੋ URL',
    'settings.Utilities': 'ਯੂਟਿਲਿਟੀਜ਼',
    'settings.ExportSettingsJSON': 'ਸੈਟਿੰਗਜ਼ JSON ਐਕਸਪੋਰਟ',
    'settings.ImportSettingsJSON': 'ਸੈਟਿੰਗਜ਼ JSON ਇੰਪੋਰਟ',
    'settings.ResetToDefaults': 'ਡਿਫਾਲਟ ਤੇ ਰੀਸੈਟ',
    'settings.Appearance': 'ਦਿੱਖ',
    'settings.Theme': 'ਥੀਮ',
    'settings.PrimaryColor': 'ਮੁੱਖ ਰੰਗ',
    'settings.FontSize': 'ਫੋਂਟ ਆਕਾਰ',
    'settings.CompactSidebar': 'ਕੰਪੈਕਟ ਸਾਈਡਬਾਰ',
    'settings.EnableAnimations': 'ਐਨੀਮੇਸ਼ਨ ਯੋਗ ਕਰੋ',
    'settings.Density': 'ਘਣਤਾ',
    'settings.Notifications': 'ਨੋਟੀਫਿਕੇਸ਼ਨ',
    'settings.EmailNotifications': 'ਈਮੇਲ ਨੋਟੀਫਿਕੇਸ਼ਨ',
    'settings.SMSNotifications': 'ਐਸਐਮਐਸ ਨੋਟੀਫਿਕੇਸ਼ਨ',
    'settings.SaveChanges': 'ਬਦਲਾਵ ਸੰਭਾਲੋ',
    'settings.Saved': 'ਸੰਭਾਲਿਆ',
  },
  ur: { // Urdu (RTL)
    'nav.Dashboard': 'ڈیش بورڈ',
    'nav.User Management': 'صارف انتظامیہ',
    'nav.Teacher': 'استاد',
    'nav.Student': 'طالب علم',
    'nav.Staff': 'عملہ',
    'nav.Librarian': 'لائبریرین',
    'nav.Class': 'کلاس',
    'nav.Timetable': 'ٹائم ٹیبل',
    'nav.Attendance': 'حاضری',
    'nav.Assignment': 'اسائنمنٹ',
    'nav.Library': 'لائبریری',
    'nav.ID Card': 'شناختی کارڈ',
    'nav.Notice / Announcements': 'اطلاعات / اعلانات',
    'nav.Fees': 'فیس',
    'nav.Settings': 'ترتیبات',
    'nav.Control Limit': 'کنٹرول حد',
    'nav.Logout': 'لاگ آؤٹ',

    'settings.Settings': 'ترتیبات',
    'settings.General': 'عام',
    'settings.Language': 'زبان',
    'settings.DateFormat': 'تاریخ کا فارمیٹ',
    'settings.ItemsPerPage': 'فی صفحہ آئٹمز',
    'settings.AcademicYear': 'تعلیمی سال',
    'settings.SchoolInformation': 'مدرسہ کی معلومات',
    'settings.SchoolName': 'مدرسہ کا نام',
    'settings.SchoolLogoUrl': 'مدرسہ لوگو URL',
    'settings.Utilities': 'ٹولز',
    'settings.ExportSettingsJSON': 'ترتیبات JSON برآمد کریں',
    'settings.ImportSettingsJSON': 'ترتیبات JSON درآمد کریں',
    'settings.ResetToDefaults': 'طے شدہ پر ری سیٹ',
    'settings.Appearance': 'ظاہری شکل',
    'settings.Theme': 'تھیم',
    'settings.PrimaryColor': 'بنیادی رنگ',
    'settings.FontSize': 'فونٹ سائز',
    'settings.CompactSidebar': 'کمپیکٹ سائیڈبار',
    'settings.EnableAnimations': 'حرکات کو فعال کریں',
    'settings.Density': 'کثافت',
    'settings.Notifications': 'اطلاعات',
    'settings.EmailNotifications': 'ای میل اطلاعات',
    'settings.SMSNotifications': 'ایس ایم ایس اطلاعات',
    'settings.SaveChanges': 'تبدیلات محفوظ کریں',
    'settings.Saved': 'محفوظ',
  },
  zh: { // Chinese (Simplified)
    'nav.Dashboard': '仪表板',
    'nav.User Management': '用户管理',
    'nav.Teacher': '教师',
    'nav.Student': '学生',
    'nav.Staff': '职员',
    'nav.Librarian': '图书管理员',
    'nav.Class': '班级',
    'nav.Timetable': '课程表',
    'nav.Attendance': '出勤',
    'nav.Assignment': '作业',
    'nav.Library': '图书馆',
    'nav.ID Card': '身份证',
    'nav.Notice / Announcements': '通知 / 公告',
    'nav.Fees': '费用',
    'nav.Settings': '设置',
    'nav.Control Limit': '控制限制',
    'nav.Logout': '退出登录',

    'settings.Settings': '设置',
    'settings.General': '通用',
    'settings.Language': '语言',
    'settings.DateFormat': '日期格式',
    'settings.ItemsPerPage': '每页项目数',
    'settings.AcademicYear': '学年',
    'settings.SchoolInformation': '学校信息',
    'settings.SchoolName': '学校名称',
    'settings.SchoolLogoUrl': '学校徽标 URL',
    'settings.Utilities': '工具',
    'settings.ExportSettingsJSON': '导出设置 JSON',
    'settings.ImportSettingsJSON': '导入设置 JSON',
    'settings.ResetToDefaults': '恢复默认设置',
    'settings.Appearance': '外观',
    'settings.Theme': '主题',
    'settings.PrimaryColor': '主色',
    'settings.FontSize': '字体大小',
    'settings.CompactSidebar': '紧凑侧边栏',
    'settings.EnableAnimations': '启用动效',
    'settings.Density': '密度',
    'settings.Notifications': '通知',
    'settings.EmailNotifications': '电子邮件通知',
    'settings.SMSNotifications': '短信通知',
    'settings.SaveChanges': '保存更改',
    'settings.Saved': '已保存',
  },
  ja: { // Japanese
    'nav.Dashboard': 'ダッシュボード',
    'nav.User Management': 'ユーザー管理',
    'nav.Teacher': '教師',
    'nav.Student': '学生',
    'nav.Staff': 'スタッフ',
    'nav.Librarian': '司書',
    'nav.Class': 'クラス',
    'nav.Timetable': '時間割',
    'nav.Attendance': '出席',
    'nav.Assignment': '課題',
    'nav.Library': '図書館',
    'nav.ID Card': 'IDカード',
    'nav.Notice / Announcements': 'お知らせ / 通知',
    'nav.Fees': '料金',
    'nav.Settings': '設定',
    'nav.Control Limit': 'コントロール制限',
    'nav.Logout': 'ログアウト',

    'settings.Settings': '設定',
    'settings.General': '一般',
    'settings.Language': '言語',
    'settings.DateFormat': '日付形式',
    'settings.ItemsPerPage': '1ページあたりの項目数',
    'settings.AcademicYear': '学年',
    'settings.SchoolInformation': '学校情報',
    'settings.SchoolName': '学校名',
    'settings.SchoolLogoUrl': '学校ロゴURL',
    'settings.Utilities': 'ユーティリティ',
    'settings.ExportSettingsJSON': '設定をJSONでエクスポート',
    'settings.ImportSettingsJSON': '設定をJSONからインポート',
    'settings.ResetToDefaults': 'デフォルトにリセット',
    'settings.Appearance': '外観',
    'settings.Theme': 'テーマ',
    'settings.PrimaryColor': '基本色',
    'settings.FontSize': '文字サイズ',
    'settings.CompactSidebar': 'コンパクトサイドバー',
    'settings.EnableAnimations': 'アニメーションを有効化',
    'settings.Density': '密度',
    'settings.Notifications': '通知',
    'settings.EmailNotifications': 'メール通知',
    'settings.SMSNotifications': 'SMS通知',
    'settings.SaveChanges': '変更を保存',
    'settings.Saved': '保存しました',
  },
  ru: { // Russian
    'nav.Dashboard': 'Панель',
    'nav.User Management': 'Управление пользователями',
    'nav.Teacher': 'Учитель',
    'nav.Student': 'Студент',
    'nav.Staff': 'Персонал',
    'nav.Librarian': 'Библиотекарь',
    'nav.Class': 'Класс',
    'nav.Timetable': 'Расписание',
    'nav.Attendance': 'Посещаемость',
    'nav.Assignment': 'Задание',
    'nav.Library': 'Библиотека',
    'nav.ID Card': 'ID-карта',
    'nav.Notice / Announcements': 'Уведомления / Объявления',
    'nav.Fees': 'Сборы',
    'nav.Settings': 'Настройки',
    'nav.Control Limit': 'Ограничение контроля',
    'nav.Logout': 'Выйти',

    'settings.Settings': 'Настройки',
    'settings.General': 'Общие',
    'settings.Language': 'Язык',
    'settings.DateFormat': 'Формат даты',
    'settings.ItemsPerPage': 'Элементов на странице',
    'settings.AcademicYear': 'Учебный год',
    'settings.SchoolInformation': 'Информация о школе',
    'settings.SchoolName': 'Название школы',
    'settings.SchoolLogoUrl': 'URL логотипа школы',
    'settings.Utilities': 'Утилиты',
    'settings.ExportSettingsJSON': 'Экспорт настроек в JSON',
    'settings.ImportSettingsJSON': 'Импорт настроек из JSON',
    'settings.ResetToDefaults': 'Сбросить по умолчанию',
    'settings.Appearance': 'Внешний вид',
    'settings.Theme': 'Тема',
    'settings.PrimaryColor': 'Основной цвет',
    'settings.FontSize': 'Размер шрифта',
    'settings.CompactSidebar': 'Компактная боковая панель',
    'settings.EnableAnimations': 'Включить анимации',
    'settings.Density': 'Плотность',
    'settings.Notifications': 'Уведомления',
    'settings.EmailNotifications': 'Уведомления по email',
    'settings.SMSNotifications': 'SMS-уведомления',
    'settings.SaveChanges': 'Сохранить изменения',
    'settings.Saved': 'Сохранено',
  },
  pt: { // Portuguese
    'nav.Dashboard': 'Painel',
    'nav.User Management': 'Gestão de usuários',
    'nav.Teacher': 'Professor',
    'nav.Student': 'Estudante',
    'nav.Staff': 'Equipe',
    'nav.Librarian': 'Bibliotecário',
    'nav.Class': 'Turma',
    'nav.Timetable': 'Horário',
    'nav.Attendance': 'Presença',
    'nav.Assignment': 'Tarefa',
    'nav.Library': 'Biblioteca',
    'nav.ID Card': 'Carteira de ID',
    'nav.Notice / Announcements': 'Avisos / Anúncios',
    'nav.Fees': 'Taxas',
    'nav.Settings': 'Configurações',
    'nav.Control Limit': 'Limite de controle',
    'nav.Logout': 'Sair',

    'settings.Settings': 'Configurações',
    'settings.General': 'Geral',
    'settings.Language': 'Idioma',
    'settings.DateFormat': 'Formato de data',
    'settings.ItemsPerPage': 'Itens por página',
    'settings.AcademicYear': 'Ano letivo',
    'settings.SchoolInformation': 'Informações da escola',
    'settings.SchoolName': 'Nome da escola',
    'settings.SchoolLogoUrl': 'URL do logotipo da escola',
    'settings.Utilities': 'Utilitários',
    'settings.ExportSettingsJSON': 'Exportar configurações (JSON)',
    'settings.ImportSettingsJSON': 'Importar configurações (JSON)',
    'settings.ResetToDefaults': 'Restaurar padrões',
    'settings.Appearance': 'Aparência',
    'settings.Theme': 'Tema',
    'settings.PrimaryColor': 'Cor primária',
    'settings.FontSize': 'Tamanho da fonte',
    'settings.CompactSidebar': 'Barra lateral compacta',
    'settings.EnableAnimations': 'Ativar animações',
    'settings.Density': 'Densidade',
    'settings.Notifications': 'Notificações',
    'settings.EmailNotifications': 'Notificações por e-mail',
    'settings.SMSNotifications': 'Notificações por SMS',
    'settings.SaveChanges': 'Salvar alterações',
    'settings.Saved': 'Salvo',
  },
  it: { // Italian
    'nav.Dashboard': 'Pannello',
    'nav.User Management': 'Gestione utenti',
    'nav.Teacher': 'Insegnante',
    'nav.Student': 'Studente',
    'nav.Staff': 'Personale',
    'nav.Librarian': 'Bibliotecario',
    'nav.Class': 'Classe',
    'nav.Timetable': 'Orario',
    'nav.Attendance': 'Presenze',
    'nav.Assignment': 'Compito',
    'nav.Library': 'Biblioteca',
    'nav.ID Card': 'Tessera ID',
    'nav.Notice / Announcements': 'Avvisi / Annunci',
    'nav.Fees': 'Tasse',
    'nav.Settings': 'Impostazioni',
    'nav.Control Limit': 'Limite di controllo',
    'nav.Logout': 'Disconnetti',

    'settings.Settings': 'Impostazioni',
    'settings.General': 'Generale',
    'settings.Language': 'Lingua',
    'settings.DateFormat': 'Formato data',
    'settings.ItemsPerPage': 'Elementi per pagina',
    'settings.AcademicYear': 'Anno accademico',
    'settings.SchoolInformation': 'Informazioni sulla scuola',
    'settings.SchoolName': 'Nome della scuola',
    'settings.SchoolLogoUrl': 'URL del logo della scuola',
    'settings.Utilities': 'Utilità',
    'settings.ExportSettingsJSON': 'Esporta impostazioni JSON',
    'settings.ImportSettingsJSON': 'Importa impostazioni JSON',
    'settings.ResetToDefaults': 'Ripristina predefiniti',
    'settings.Appearance': 'Aspetto',
    'settings.Theme': 'Tema',
    'settings.PrimaryColor': 'Colore primario',
    'settings.FontSize': 'Dimensione carattere',
    'settings.CompactSidebar': 'Barra laterale compatta',
    'settings.EnableAnimations': 'Abilita animazioni',
    'settings.Density': 'Densità',
    'settings.Notifications': 'Notifiche',
    'settings.EmailNotifications': 'Notifiche email',
    'settings.SMSNotifications': 'Notifiche SMS',
    'settings.SaveChanges': 'Salva modifiche',
    'settings.Saved': 'Salvato',
  },
  mni: {
    // Manipuri (Meiteilon) in Bengali script (Eastern Nagari). Please review terms.
    'nav.Dashboard': 'ড্যাশবোর্ড',
    'nav.User Management': 'ইউজার ম্যানেজমেন্ট',
    'nav.Teacher': 'টিচার',
    'nav.Student': 'স্টুডেন্ট',
    'nav.Staff': 'স্টাফ',
    'nav.Librarian': 'লাইব্রেরিয়ান',
    'nav.Class': 'ক্লাস',
    'nav.Timetable': 'টাইমটেবল',
    'nav.Attendance': 'অ্যাটেনডেন্স',
    'nav.Assignment': 'অ্যাসাইনমেন্ট',
    'nav.Library': 'লাইব্রেরি',
    'nav.ID Card': 'আইডি কার্ড',
    'nav.Notice / Announcements': 'নোটিস / অ্যানাউন্সমেন্টস',
    'nav.Fees': 'ফি',
    'nav.Settings': 'সেটিংস',
    'nav.Control Limit': 'কন্ট্রোল লিমিট',
    'nav.Logout': 'লগ আউট',

    'settings.Settings': 'সেটিংস',
    'settings.General': 'জেনারেল',
    'settings.Language': 'ভাষা',
    'settings.DateFormat': 'তারিখ ফরম্যাট',
    'settings.ItemsPerPage': 'প্রতি পেজে আইটেম',
    'settings.AcademicYear': 'অ্যাকাডেমিক ইয়ার',
    'settings.SchoolInformation': 'স্কুল তথ্য',
    'settings.SchoolName': 'স্কুল নাম',
    'settings.SchoolLogoUrl': 'স্কুল লোগো ইউআরএল',
    'settings.Utilities': 'ইউটিলিটিজ',
    'settings.ExportSettingsJSON': 'সেটিংস JSON এক্সপোর্ট',
    'settings.ImportSettingsJSON': 'সেটিংস JSON ইমপোর্ট',
    'settings.ResetToDefaults': 'ডিফল্টে রিসেট',
    'settings.Appearance': 'অ্যাপিয়ারেন্স',
    'settings.Theme': 'থিম',
    'settings.PrimaryColor': 'প্রাইমারি কালার',
    'settings.FontSize': 'ফন্ট সাইজ',
    'settings.CompactSidebar': 'কমপ্যাক্ট সাইডবার',
    'settings.EnableAnimations': 'অ্যানিমেশন চালু করুন',
    'settings.Density': 'ডেনসিটি',
    'settings.Notifications': 'নোটিফিকেশন',
    'settings.EmailNotifications': 'ইমেল নোটিফিকেশন',
    'settings.SMSNotifications': 'এসএমএস নোটিফিকেশন',
    'settings.SaveChanges': 'পরিবর্তন সংরক্ষণ করুন',
    'settings.Saved': 'সংরক্ষিত',
  }, // Manipuri (Meitei)
};

function translate(lang: Lang, key: string): string {
  return translations[lang][key] ?? translations.en[key] ?? key;
}

const I18nContext = createContext<{ lang: Lang; t: (key: string) => string }>({ lang: 'en', t: (k) => k });

export const I18nProvider = ({ lang, children }: { lang: Lang; children: ReactNode }) => {
  const value = useMemo(() => ({ lang, t: (key: string) => translate(lang, key) }), [lang]);
  // Update document direction and language attribute for RTL/LTR support
  useEffect(() => {
    const rtlLangs: Lang[] = ['ar', 'ur'];
    const dir = rtlLangs.includes(lang) ? 'rtl' : 'ltr';
    const el = document.documentElement;
    if (el.getAttribute('dir') !== dir) el.setAttribute('dir', dir);
    if (el.getAttribute('lang') !== lang) el.setAttribute('lang', lang);
  }, [lang]);
  return <I18nContext.Provider value={value}>{children}</I18nContext.Provider>;
};

export const useI18n = () => useContext(I18nContext);
